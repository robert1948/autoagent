"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[921],{921:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(555),n=s(43),l=s(729),r=s(174),i=s(722),d=(s(421),s(579));const o=function(){const{setUser:e}=(0,l.A)(),a=(0,r.Zp)(),[s,o]=(0,n.useState)({identifier:"",password:""}),[c,m]=(0,n.useState)(""),u=e=>{o((0,t.A)((0,t.A)({},s),{},{[e.target.name]:e.target.value}))};return(0,d.jsx)("div",{className:"container mt-5",children:(0,d.jsxs)("div",{className:"card p-4 shadow-sm mx-auto",style:{maxWidth:"400px"},children:[(0,d.jsx)("h2",{className:"text-center mb-4",children:"Login"}),c&&(0,d.jsx)("div",{className:"alert alert-danger",children:c}),(0,d.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await i.A.post("/login",s);localStorage.setItem("token",t.data.token),e(t.data.token),a("/dashboard")}catch(r){var n,l;m((null===(n=r.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.detail)||"Login failed.")}},children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Email or Username"}),(0,d.jsx)("input",{type:"text",className:"form-control",name:"identifier",value:s.identifier,onChange:u,required:!0})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{className:"form-label",children:"Password"}),(0,d.jsx)("input",{type:"password",className:"form-control",name:"password",value:s.password,onChange:u,required:!0})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})})}}}]);
//# sourceMappingURL=921.5ef6b657.chunk.js.map